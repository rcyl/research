:name: STM32F3 C Test
:description: Test STM32F3 platform with C firmware

$name?="STM32F3_Discovery"
$bin?=@test-f3.elf

mach create $name
machine LoadPlatformDescription @/src/renode-research/stm32f3-uart/stm32f3_discovery.repl

showAnalyzer sysbus.usart1

machine StartGdbServer 3333

macro reset
"""
    sysbus LoadELF $bin
"""

runMacro $reset
